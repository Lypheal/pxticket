"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{8033:function(e,t,n){n.r(t);var a,i=n(5893),o=n(7294),s=n(2212),c=n(9365),r=n(1217),u=n(1663),d=new s.SUY;t.default=function(){var e=(0,o.useRef)(),t=(0,o.useState)(!0),n=t[0],h=t[1],l=(0,o.useState)(),w=l[0],f=l[1],v=(0,o.useState)(),p=(v[0],v[1]),S=(0,o.useState)(new s.Pa4(-.5,1.2,0))[0],m=(0,o.useState)(new s.Pa4(20*Math.sin(.2*Math.PI),10,20*Math.cos(.2*Math.PI)))[0],M=(0,o.useState)(new s.xsS)[0],E=(0,o.useState)(),P=(E[0],E[1]),x=(0,o.useCallback)((function(){var t=e.current;if(t&&w){var n=t.clientWidth,a=t.clientHeight;w.setSize(n,a)}}),[w]);return(0,o.useEffect)((function(){var t=e.current;if(t&&!w){var n=t.clientWidth,i=t.clientHeight,o=new s.CP7({antialias:!0,alpha:!0});o.setPixelRatio(window.devicePixelRatio),o.setSize(n,i),o.outputEncoding=s.knz,t.appendChild(o.domElement),f(o);var u=.005*i+4.8,l=new s.iKG(-u,u,u,-u,.01,5e4);l.position.copy(m),l.lookAt(S),p(l);var v=new s.Mig(13421772,1);M.add(v);var E=new c.z(l,o.domElement);E.autoRotate=!0,E.target=S,P(E),function(e,t,n){var i=void 0===n?{receiveShadow:!0,castShadow:!0}:n,o=i.receiveShadow,c=i.castShadow;return new Promise((function(n,i){(new r.E).load(t,(function(t){var i=t.scene;i.name="planet",i.position.y=0,i.position.x=0,i.receiveShadow=o,i.castShadow=c,e.add(i),(a=new s.Xcj(i)).clipAction(t.animations[0]).play(),i.traverse((function(e){e.isMesh&&(e.castShadow=c,e.receiveShadow=o)})),n(i)}),void 0,(function(e){i(e)}))}))}(M,"/planet.glb",{receiveShadow:!1,castShadow:!1}).then((function(){g(),h(!1)}));var x=null,z=0,g=function(){x=requestAnimationFrame(g);var e,t=d.getDelta();if(a.update(t),(z=z<=100?z+1:z)<=100){var n=m,i=20*(e=z/120,-Math.sqrt(1-Math.pow(e-1,4))*Math.PI);l.position.y=10,l.position.x=n.x*Math.cos(i)+n.z*Math.sin(i),l.position.z=n.z*Math.cos(i)-n.x*Math.sin(i),l.lookAt(S)}else E.update();o.render(M,l)};return function(){console.log("unmount"),cancelAnimationFrame(x),o.dispose()}}}),[]),(0,o.useEffect)((function(){return window.addEventListener("resize",x,!1),function(){window.removeEventListener("resize",x,!1)}}),[w,x]),(0,i.jsx)(u.q1,{ref:e,children:n&&(0,i.jsx)(u.LP,{})})}}}]);